#compdef kc kn

_kc_kn() {
    local -a commands
    commands=("kc" "kn")

    _arguments \
        '1: :(kc kn)' \
        '2: :(context namespace)' \
        '*::arg:->args'

    case $words[1] in
        kc)
            _arguments '*::(kubectl config get-contexts -o name)'
            ;;
        kn)
            _arguments '*::(kubectl get ns -o name | cut -d'/' -f2)'
            ;;
    esac
}

_kc_kn "$@"
